///去http://tool.chinaz.com/js.aspx加密压缩
//20171026 delete by Eming
var mgurl_version = "?v=0.20150709";
var _web = "https://";
var mgurl = { urls: { "_b$": tt_urlbase_domain + "/", "_m$": "_b$mis/", "_p$": "_b$jQ/plugins/", "_4$": _web + "mango-misnet2014" + tt_host + ".yuqiao." + tt_dev + "/", "_3$": _web + "mango-misnet2013" + tt_host + ".yuqiao." + tt_dev + "/", "_4#": "_4$a10_common/", "_3#": "_3$MangoMisPlugin/", "_s#": "_4#a1020_selection/scripts/", "_t#": "_4#a1025_Tip/scripts/", "_l#": "_4#a1085_DefaultList/scripts/", "_m#": "_b$mis/misnet2014css/", "_i#": _web + "mango-img.yuqiao.cn", selectionurl: "_4#a1020_selection/", tipurl: "_4#a1025_Tip/", loginfor2014: "_4$CheckLogin.aspx", ashxforloginfo: "_4#a1005_Log/Code/LogInfo.ashx", attachmenturl: _web + "mango-misnet2014attachment" + tt_host + ".yuqiao." + tt_dev + "/a10_Common/a1015_Attachment/UploadPic.aspx", jsondata: "_4$write/jsondata/", mango: "_m$misnet2014js/mango.js", mangoui: "_m$misnet2014js/mango.ui.js", mangoui_v2: "_m$misnet2014js_v2/mango.ui.v2.js", mangovali: "_m$misnet2014js/mango.validate.js", mangosearcher: "_m$misnet2014js_v2/mango.ui.searcher.js", mangoplugindemo: "_m$misnet2014js_v2/mango.ui.plugindemo.js", mangoplugindemocss: "_m#plugindemo.css", mangolistpageframe: "_m$misnet2014js_v2/mango.ui.pageframe.js", mangolistpageframecss: "_m#mg_tt_form_detail_list.css", mangoformeditor: "_m$misnet2014js_v2/mango.ui.formeditor.js", mangoformeditorcss: "_m#mg_tt_form_detail.css", mangolevelbox: "_m$misnet2014js_v2/mango.ui.levelbox.js", mangolevelboxcss: "_m#mg_tt_level_box.css", mangostep: "_m$misnet2014js_v2/mango.ui.steps.js", mangostepcss: "_m#mg_tt_steps.css", easyframe: "_m$misnet2014js_v2/mango.page.easyframe.js", progress: "_m$misnet2014js_v2/mango.ctrl.progress.js", inputselection: "_m$misnet2014js_v2/mango.ui.inputselection.js", loadingbox: "_m$misnet2014js_v2/mango.ui.loadingbox.js", jquery_v2: "_b$jQ/jquery-1.9.1.min.js", jqmd5: "_b$jQ/jquery.md5.js", jquery: "_m$js/lib.js", jquerycss: "_m$css/mislib.css", jqueryforprime: "_b$jQ/jquery-1.8.2.js", genjin: "_4#a1010_Genjin/Scripts/GenJinContent.js", loginfo: "_4#a1005_Log/Scripts/loginfo_list.js", genjincss: "_m#genjin20140705.css", daikan: "_4#a1010_Genjin/Scripts/DaiKanContent.js?id=zjs", ext_list_base: "_l#base_list.js", ext_user_list: "_l#ext_user_list.js", ext_house_list: "_l#ext_house_list.js", ext_client_list: "_l#ext_client_list.js", ext_org_list: "_l#ext_org_list.js", ext_xq_list: "_l#ext_xq_list.js", ext_ht_list: "_l#ext_ht_list.js", "_i$": "_4#a1015_Attachment/Scripts/", imgbase: "_i$ImageBase.js", xqimg: "_i$XqImage.js", houseimg: "_i$HouseImage.js", hetongimg: "_i$HeTongImage.js", otherimg: "_i$OtherImage.js", baseoncombo: "_s#BaseComboBox.js", baseselection: "_s#baseselection.js", oneuserselection: "_s#JjrComboBox.js", oneorgselection: "_s#OrgComboBox.js", onexqselection: "_s#XqComboBox.js", hetongselection: "_s#UI.hetongSelection.js", customselection: "_s#UI.CustomSelection.js", userselection: "_s#UI.UserSelection.js", orgselection: "_s#UI.OrgSelection.js", houseselection: "_s#UI.HouseSelection.js", clientselection: "_s#UI.ClientSelection.js", districtselection: "_s#UI.DistrictSelection.js", xqselection: "_s#UI.XqDicSq.js", streetselection: "_s#UI.XqDicStreet.js", xqparentselection: "_s#UI.XqParentSelection.js", xqschoolselection: "_s#UI.XqDicSchool.js", xqsubwayselection: "_s#UI.XqDicSubway.js", xqbusselection: "_s#UI.XqDicBus.js", areaselection: "_s#UI.XqDicArea.js", xqshequselection: "_s#UI.XqDicShequ.js", tipbasecss: "_m#mgtip.css", tipbase: "_t#mgtipbase.js", orgtip: "_t#OrgTip.js", usertip: "_t#UserTip.js", tiptext: "_t#TipText.js", housetip: "_t#HouseTip.js", districttip: "_t#DistrictTip.js", schooltip: "_t#SchoolTip.js", shangquantip: "_t#ShangquanTip.js", shequtip: "_t#ShequTip.js", streettip: "_t#StreetTip.js", subwaytip: "_t#SubwayTip.js", bustip: "_t#BusTip.js", producttip: "_t#ProductTip.js", warehousetip: "_t#WareHouseTip.js", productsuppliertip: "_t#ProductSupplierTip.js", mapselection: "_4#a1050_Map/scripts/MapSelection.js", mapview: "_4#a1050_Map/scripts/MapView.js", alert: "_3#OtherPlugin/Scripts/Alert.js", confirm: "_3#OtherPlugin/Scripts/Confirm.js", ditu: "_3#MapPlugin/Scripts/BaiDuMapPlugin.js", ttpager: "_b$mangoui/mango.ttpager.js", ttlayer: "_b$mangoui/mango.ttlayer.min.js", intro: "_p$IntroJs/v1.0/intro.js", introcss: "_p$IntroJs/v1.0/introjs.css", lightcode: "_p$highlight/v8.1/highlight.pack.js", lightcodecss: "_p$highlight/v8.1/styles/rainbow.css", pickadate: "_p$datetimepicker/v2.3.2/jquery.datetimepicker.js", pickadatecss: "_p$datetimepicker/v2.3.2/jquery.datetimepicker.css", colorpicker: "_p$colorpicker/color-picker/jquery.colorPicker.min.js", colorpickercss: "_p$colorpicker/color-picker/colorPicker.css", w2ui: "_p$w2ui/v1.4.1/w2ui.min.js", w2uicn: "_p$w2ui/v1.4.1/locale/zh-cn.json", w2uicss: "_p$w2ui/v1.4.1/w2ui.min.css", mobile: "_p$jquery-mobile/v1.4.2/jquery.mobile-1.4.2.js", mobilescroll: "_p$jquery-mobile/v1.4.2/iscroll.js", mobilecss: "_p$jquery-mobile/v1.4.2/jquery.mobile-1.4.2.css", decode: "_p$jsdecode/JsDecoder.js", decode_cr: "_p$jsdecode/jsColorizer.js", flot: "_p$flotcharts/v0.8.1/jquery.flot.min.js", flotpie: "_p$flotcharts/v0.8.1/jquery.flot.pie.min.js", qtip: "_p$qTip/v2.1.1/jquery.qtip.min.js", qtipcss: "_p$qTip/v2.1.1/jquery.qtip.min.css", jqeasing: "_p$jquery.easing/jquery.easing.min.js", primeui: "_p$PrimeUI/v1.0/primeui-1.0.js", primeuicss: "_p$PrimeUI/v1.0/themes/aristo/theme.css", jquidialog: "_p$jquery-ui/v1.10.3/js/jquery-ui-1.10.3.custom.min.js", jquidialogcss: "_p$jquery-ui/v1.10.3/css/smoothness/jquery-ui-1.10.3.custom.css", jquiprime: "_p$jquery-ui/v1.10.3/js/jquery-ui-forprimeui.js", jquiprimecss: "_p$jquery-ui/v1.10.3/css/smoothness/jquery-ui-1.10.3.custom.css", ztree: "_p$ztreeview/v3.5.15/js/jquery.ztree.all-3.5.min.js", ztreecss: "_p$ztreeview/v3.5.15/css/zTreeStyle.css", colorboxcss: "_p$colorbox/v1.4.27/example3/colorbox.css", bankcard: "_p$bankcard/jqcool.net-card/lib/js/card.js", highcharts: "_p$highcharts/4.0.1/js/highcharts.js", highchartsmore: "_p$highcharts/4.0.1/js/highcharts-more.js", highcharts3d: "_p$highcharts/4.0.1/js/highcharts-3d.js", highchartsrepot: "_p$highcharts/4.0.1/js/modules/exporting.js", "_u#": "_p$ueditor/v1.4.3/", ueditor_mg_plugin: "_u#mango_plugin/register.js", ueditor: "_u#ueditor.all.js", ueditorlang: "_u#lang/zh-cn/zh-cn.js", ueditorconfig: "_u#mango.ueditor.config.js", codemirror: "_p$codemirror/v4.11/", loadimg: "_b$images/loading-block.gif", cssmisv2style: "_b$misStyle/misUICss/misStyle/MisStyle_v2.css", cssmisv1style: "_b$misStyle/misUICss/misStyle/mis-style-p.css", css960grid: "_m#960.css", mangouicss: "_m#listpagecss.css", pluginurl: "", bdmap: "NoVershttp://api.map.baidu.com/api?v=2.0&ak=hjHhxsyFA3QML8GeONx1PG4o", cssjs: _web + "mango-js" + tt_host + ".yuqiao." + tt_dev + "/misStyle/misUICss/misJs/misJs_v2.js" }, extendurls: { tip: ["mango", "usertip", "orgtip", "housetip", "districttip", "schooltip", "shangquantip", "shangquantip", "shequtip", "streettip", "subwaytip", "bustip"], userselection: ["baseselection", "userselection", "usertip"], mangoui: ["mango", "mangoui"], mangoui_v2_1: ["jquery_v2", "mango", "mangoui_v2"], daikan: ["genjincss", "daikan"], primeui: ["jquiprime", "primeui"], customselection: ["baseoncombo", "customselection"], oneuserselection: ["baseoncombo", "oneuserselection"], oneorgselection: ["baseoncombo", "oneorgselection"], orgselection: ["baseselection", "orgselection"], clientselection: ["baseselection", "clientselection"], mobile: ["mobilescroll", "mobile"], houseselection: ["baseselection", "houseselection"], districtselection: ["baseselection", "districtselection"], xqselection: ["baseselection", "xqselection"], streetselection: ["baseselection", "streetselection"], xqparentselection: ["baseselection", "xqparentselection"], xqschoolselection: ["baseselection", "xqschoolselection"], xqsubwayselection: ["baseselection", "xqsubwayselection"], xqbusselection: ["baseselection", "xqbusselection"], xqshequselection: ["baseselection", "xqshequselection"], decode: ["decode", "decode_cr", "lightcode"], xqimg: ["xqimg", "imgbase", "colorboxcss"], houseimg: ["houseimg", "imgbase", "colorboxcss"], hetongimg: ["hetongimg", "imgbase", "colorboxcss"], otherimg: ["otherimg", "imgbase", "colorboxcss"], ueditor: ["ueditorconfig", "ueditor", "ueditorlang", "ueditor_mg_plugin"], flotpie: ["flot", "flotpie"], highcharts: ["highcharts", "highchartsrepot", "highcharts3d", "highchartsmore"], mangostep: ["jqeasing", "mangostep"] }, buildTrueJsUrl: function (url, obj) { if (!obj) obj = mgurl.urls; if (obj[url]) { url = obj[url] } if (url.substring(0, 1) == "_") { var tmpUrl = url.substring(0, 3); url = url.substr(3); url = obj[tmpUrl] + url; url = mgurl.buildTrueJsUrl(url, obj) } return url }, inarray: function (param, arr) { if (!arr || arr.length == 0) return -1; for (var i = 0; i < arr.length; i++) { if (param == arr[i]) return i } return -1 }, buildVers: function (url, obj) { url = mgurl.buildTrueJsUrl(url.toLowerCase(), obj); if (url.substring(0, 6) == "NoVers") { return url.substr(6) } return url + mgurl_version }, haveInclude: [], getMGScript: function (url, callback, opts) { if (!url) (callback && callback()); if (!opts) opts = {}; function appendScripts() { var thisUrl = mgurl.buildVers(url, mgurl.urls); var tmpUrl = thisUrl.replace(mgurl_version, ""); if (tmpUrl.substr(tmpUrl.length - 4) == ".css") { mgurl.appendTagToHead({ type: "link", url: thisUrl, callback: callback, error: opts.error }) } else { mgurl.appendTagToHead({ url: thisUrl, callback: callback, error: opts.error }) } } if (mgurl.urls[url.toLowerCase() + "css"]) { mgurl.appendTagToHead({ type: "link", url: mgurl.buildVers(url + "css", mgurl.urls), callback: function () { appendScripts() }, error: opts.error }) } else { appendScripts() } }, getMGScriptsFinally: function (urls, callback, opts) { if (urls && urls.length > 0) { var tmpUrl = urls[0]; urls.splice(0, 1); mgurl.getMGScript(tmpUrl, function () { mgurl.getMGScriptsFinally(urls, callback, opts) }, opts) } else { if (mgurl.loadingscript == 0) (callback && callback()); else { setTimeout(function () { mgurl.getMGScriptsFinally(urls, callback, opts) }, 50) } } }, getMGScripts: function (urls, callback, opts) { if (typeof urls == "string") { urls = [urls] } for (var item in mgurl.extendurls) { var index = mgurl.inarray(item, urls); if (index > -1) { var appendUrls = []; var tUrl = mgurl.extendurls[item]; for (j = 0; j < tUrl.length; j++) { var cIndex = mgurl.inarray(tUrl[j], urls); if (cIndex < 0 || tUrl[j] == item) { appendUrls.push(tUrl[j]) } } if (appendUrls.length > 0) { for (j = 0; j < appendUrls.length; j++) { if (j == 0) { urls.splice(index, 1, appendUrls[j]) } else { urls.splice(index, 0, appendUrls[j]) } index++ } } } } for (var i = urls.length - 1; i > -1; i--) { if (mgurl.inarray(urls[i], mgurl.haveInclude) > -1) { urls.splice(i, 1) } mgurl.haveInclude.push(urls[i]) } mgurl.getMGScriptsFinally(urls, callback, opts) }, loadingscript: 0, appendTagToHead: function (opts) { var head = document.getElementsByTagName("head")[0]; var type = opts.type; if (!type) type = "script"; var dom = document.createElement(type); if (type == "link") { dom.href = opts.url; dom.rel = "stylesheet"; dom.type = "text/css" } else { dom.src = opts.url; dom.type = "text/javascript" } dom.onreadystatechange = doCallback; dom.onload = function () { this.readyState = "complete"; doCallback() }; var ErrorHandler = window.setTimeout(doError, 20000); dom.onerror = function () { window.clearTimeout(ErrorHandler); doError(); (opts.error && opts.error()) }; function doCallback() { if (dom.readyState == "complete" || dom.readyState == "loaded") { dom.onload = dom.onreadystatechange = new Function(); window.clearTimeout(ErrorHandler); mgurl.loadingscript--; (opts.callback && opts.callback()) } } function doError() { mgurl.loadingscript--; dom.parentNode.removeChild(dom) } mgurl.loadingscript++; head.appendChild(dom) }, getScript: function (url, callback, opts) { return $.ajax($.extend({ url: url, type: "get", dataType: "script", success: function (d) { (callback && callback(d)) }, error: function (d) { (callback && callback(d)); (opts.error && opts.error(d)) } }, opts)) }, include: function (urls, obj) { if (urls) { if (!obj) { var j; for (var item in mgurl.extendurls) { var index = mgurl.inarray(item, urls); if (index > -1) { var appendUrls = []; var tUrl = mgurl.extendurls[item]; for (j = 0; j < tUrl.length; j++) { var cIndex = mgurl.inarray(tUrl[j], urls); if (cIndex < 0 || tUrl[j] == item) { appendUrls.push(tUrl[j]) } } if (appendUrls.length > 0) { for (j = 0; j < appendUrls.length; j++) { if (j == 0) { urls.splice(index, 1, appendUrls[j]) } else { urls.splice(index, 0, appendUrls[j]) } index++ } } } } } if (!obj) obj = mgurl.urls; for (var i = 0; i < urls.length; i++) { var url = urls[i]; if (url == "jquery" && dnz_win_host.indexOf("misnet2014") > -1) { url = "jquery_v2" } if (mgurl.inarray(url, mgurl.haveInclude) > -1) { continue } mgurl.haveInclude.push(url); if (!url) continue; if (obj[url.toLowerCase() + "css"]) { document.write("<link type='text/css' rel='stylesheet' href='" + mgurl.buildVers(url + "css", obj) + "'>") } var thisUrl = mgurl.buildVers(url, obj); var tmpUrl = thisUrl.replace(mgurl_version, ""); if (tmpUrl.substr(tmpUrl.length - 4) == ".css") { document.write("<link type='text/css' rel='stylesheet' href='" + thisUrl + "'>") } else { document.write("<script language='javascript' src='" + thisUrl + "'></script>") } } } } };